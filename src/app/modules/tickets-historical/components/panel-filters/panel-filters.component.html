<p-accordion [(activeIndex)]="activeIndex">
    <p-accordionTab header="Filtros" [headerStyleClass]="'bg-lynch-600 lynch-50 border-round-top-xl'">
        <form [formGroup]="formTicket">
            <div class="grid">
                <div class="col form-group field mt-2 px-3" style="min-width: 20rem; max-width: 20rem;">
                    <span class="p-float-label">
                        <input type="text" pInputText id="code" formControlName="code" class="p-inputtext-sm capitalize mt-1 w-full" />
                        <label htmlFor="code" class="text-lg font-bold text-800 text-800"> Código</label>
                    </span>
                </div>
                
                <div class="col form-group field mt-2 px-3" style="min-width: 20rem; max-width: 20rem;">
                    <span class="p-float-label">
                        <p-calendar 
                            id="initialDate" 
                            formControlName="initialDate" 
                            styleClass="w-full mt-1"
                            [showIcon]="true"
                            dateFormat="dd/mm/yy"
                            [maxDate]="maxDate" >
                        </p-calendar>
                        <label htmlFor="initialDate" class="text-lg font-bold text-800 text-800"> Desde</label>
                    </span>
                </div>
                
                <div class="col form-group field mt-2 px-3" style="min-width: 20rem; max-width: 20rem;">
                    <span class="p-float-label">
                        <p-calendar 
                            id="endDate" 
                            formControlName="endDate" 
                            styleClass="w-full mt-1"
                            [showIcon]="true"
                            dateFormat="dd/mm/yy"
                            [maxDate]="maxDate" >
                        </p-calendar>
                        <label htmlFor="endDate" class="text-lg font-bold text-800 text-800"> Hasta</label>
                    </span>
                </div>

                <div class="col form-group field mt-2 px-3" style="min-width: 20rem; max-width: 20rem;">
                    <span class="p-float-label">
                        <p-dropdown 
                            inputId="enterpriseId" 
                            formControlName="enterpriseId" 
                            [options]="enterprises()"  
                            optionLabel="name" 
                            optionValue="id" 
                            [filter]="true" 
                            filterBy="name" 
                            styleClass="p-inputtext-sm mt-1 w-full" 
                            [showClear]="true" 
                            placeholder="Empresas">
                        </p-dropdown>
                        <label for="enterpriseId" class="text-lg font-bold text-800"> Empresas</label>
                    </span>
                </div>

                <div class="col form-group field mt-2 px-3" style="min-width: 20rem; max-width: 20rem;">
                    <span class="p-float-label">
                        <p-dropdown 
                            inputId="subCatecategoryIdoryId" 
                            formControlName="categoryId" 
                            [options]="categories()"  
                            optionLabel="value" 
                            optionValue="id" 
                            [filter]="true" 
                            filterBy="value" 
                            (onChange)="getSubCategories($event.value)" 
                            styleClass="p-inputtext-sm mt-1 w-full" 
                            [showClear]="true" 
                            placeholder="Categoría">
                        </p-dropdown>
                        <label for="subCatecategoryIdoryId" class="text-lg font-bold text-800"> Categoría</label>
                    </span>
                </div>

                <div class="col form-group field mt-2 px-3" style="min-width: 20rem; max-width: 20rem;">
                    <span class="p-float-label">
                        <p-dropdown inputId="subCategoryId" 
                            formControlName="subCategoryId" 
                            [options]="subCategories()"  
                            optionLabel="name" 
                            optionValue="id" 
                            [filter]="true" 
                            filterBy="name" 
                            styleClass="p-inputtext-sm mt-1 w-full" 
                            [showClear]="true" 
                            placeholder="Subcategoría">
                        </p-dropdown>
                        <label for="subCategoryId" class="text-lg font-bold text-800"> SubcCategoría</label>
                    </span>
                </div>
                
                <div class="col form-group field mt-2 px-3" style="min-width: 20rem; max-width: 20rem;">
                    <span class="p-float-label">
                        <p-dropdown inputId="statusId" 
                            formControlName="statusId" 
                            [options]="flowStatus()"  
                            optionLabel="name" 
                            optionValue="id" 
                            [filter]="true" 
                            filterBy="name" 
                            styleClass="p-inputtext-sm mt-1 w-full" 
                            [showClear]="true" 
                            placeholder="Estado">
                        </p-dropdown>
                        <label for="statusId" class="text-lg font-bold text-800"> Estado</label>
                    </span>
                </div>
                
                <div class="col flex justify-content-end mt-3 px-3" >
                    <p-button 
                        icon="pi pi-search" 
                        label="Filtrar" 
                        pTooltip="Filtrar" 
                        styleClass="p-button-sm p-button-rounded mr-2 p-button-primary sombra-black hover-primary"
                        (onClick)="sendParams()" >
                    </p-button>
                </div>
            </div>
        </form>
    </p-accordionTab>
</p-accordion>